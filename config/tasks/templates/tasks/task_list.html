{% extends 'base.html' %}
{% load static %}

{% block content %}

<h1>My Tasks</h1>

<div class="add-btn-container">
    <a class="add-btn" href="{% url 'add_task' %}">+ Add Task</a>
</div>

<div class="task-container">
    {% for task in tasks %}

    <div class="task-card {% if task.is_overdue %}overdue{% endif %} {% if task.completed %}done{% endif %}">
        <h3 class="task-title">{{ task.title }}</h3>

        {% if task.description %}
            <p class="task-desc">{{ task.description }}</p>
        {% endif %}

        {% if task.due_date %}
            <p class="task-date">Due: {{ task.due_date }}</p>
        {% endif %}

        {% if task.completed %}
            <p class="completed">Completed</p>
        {% else %}
            <p class="not-completed">Pending</p>
        {% endif %}

        <div class="task-actions">
            <a class="toggle-btn" href="{% url 'toggle_task' task.id %}">Toggle</a>
            <a class="edit-btn" href="{% url 'edit_task' task.id %}">Edit</a>
            <a class="delete-btn" href="{% url 'delete_task' task.id %}">Delete</a>
        </div>
    </div>

    {% empty %}
        <p>No tasks yet.</p>
    {% endfor %}
</div>

{% endblock %}